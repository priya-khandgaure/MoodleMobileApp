"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[97861],{97861:(e,n,o)=>{o.r(n),o.d(n,{default:()=>O});var t=o(10467),a=o(44682),i=o(2910),_=o(94455),d=o(15324),c=o(52749),r=o(81690),l=o(79555),g=o(49882),m=o(4593),s=o(2538),p=o(99073),f=o(22693),u=o(19634),b=o(33014),k=o(75629),F=o(55554),I=o(43411),h=o(58364),P=o(25572),M=o(86654),C=o(10883),T=o(54438),v=o(60177),A=o(89417),x=o(64422),R=o(17778),G=o(62398),$=o(4060),y=o(86198),N=o(58197),w=o(66731),E=o(88246),Y=o(43570),j=o(73955);const _c0=e=>({item:e}),_c1=e=>({header:e});function AddonModFeedbackFormPage_ng_container_10_p_7_Template(e,n){1&e&&(T.j41(0,"p"),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&e&&(T.R7$(),T.JRh(T.bMT(2,1,"addon.mod_feedback.anonymous")))}function AddonModFeedbackFormPage_ng_container_10_p_8_Template(e,n){1&e&&(T.j41(0,"p"),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&e&&(T.R7$(),T.JRh(T.bMT(2,1,"addon.mod_feedback.non_anonymous")))}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_1_Template(e,n){1&e&&T.nrm(0,"core-spacer")}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_ng_container_1_Template(e,n){1&e&&T.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_p_2_Template(e,n){if(1&e&&(T.j41(0,"p"),T.nrm(1,"core-format-text",20),T.k0s()),2&e){const e=T.XpG(3).$implicit,n=T.XpG(2);T.R7$(),T.Y8G("component",n.component)("componentId",n.cmId)("text",e.presentation)("contextInstanceId",n.cmId)("wsNotFiltered",!0)("courseId",n.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_Template(e,n){if(1&e&&(T.j41(0,"ion-label"),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_ng_container_1_Template,1,0,"ng-container",19)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_p_2_Template,2,6,"p",6),T.k0s()),2&e){const e=T.XpG(2).$implicit;T.XpG(2);const n=T.sdS(14);T.R7$(),T.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",T.eq3(3,_c0,e)),T.R7$(),T.Y8G("ngIf","label"===e.templateName)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_input_2_ng_container_1_Template(e,n){1&e&&T.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_input_2_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-input",21),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_input_2_Template_ion_input_ngModelChange_0_listener(n){T.eBV(e);const o=T.XpG(2).$implicit;return T.DH7(o.value,n)||(o.value=n),T.Njj(n)})),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_input_2_ng_container_1_Template,1,0,"ng-container",19),T.k0s()}if(2&e){const e=T.XpG(2).$implicit;T.XpG(2);const n=T.sdS(14);T.FCK("name","",e.typ,"_",e.id,""),T.FS9("maxlength",e.length),T.R50("ngModel",e.value),T.Y8G("required",e.required),T.R7$(),T.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",T.eq3(8,_c0,e))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ng_container_2_Template(e,n){1&e&&T.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ion_text_3_span_3_Template(e,n){1&e&&(T.j41(0,"span"),T.EFF(1,", "),T.k0s())}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ion_text_3_Template(e,n){if(1&e&&(T.j41(0,"ion-text",24),T.EFF(1),T.nI1(2,"translate"),T.DNE(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ion_text_3_span_3_Template,2,0,"span",6),T.EFF(4),T.k0s()),2&e){const e=T.XpG(3).$implicit;T.R7$(),T.Lme(" ",T.bMT(2,4,"addon.mod_feedback.numberoutofrange")," [",e.rangefrom," "),T.R7$(2),T.Y8G("ngIf",e.rangefrom&&e.rangeto),T.R7$(),T.SpI("",e.rangeto,"] ")}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_Template(e,n){if(1&e){const e=T.RV6();T.qex(0),T.j41(1,"ion-input",22),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_Template_ion_input_ngModelChange_1_listener(n){T.eBV(e);const o=T.XpG(2).$implicit;return T.DH7(o.value,n)||(o.value=n),T.Njj(n)})),T.DNE(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ng_container_2_Template,1,0,"ng-container",19),T.k0s(),T.DNE(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_ion_text_3_Template,5,6,"ion-text",23),T.bVm()}if(2&e){const e=T.XpG(2).$implicit;T.XpG(2);const n=T.sdS(14);T.R7$(),T.FCK("name","",e.typ,"_",e.id,""),T.R50("ngModel",e.value),T.Y8G("required",e.required),T.R7$(),T.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",T.eq3(8,_c0,e)),T.R7$(),T.Y8G("ngIf",e.hasError)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_textarea_4_ng_container_1_Template(e,n){1&e&&T.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_textarea_4_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-textarea",25),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_textarea_4_Template_ion_textarea_ngModelChange_0_listener(n){T.eBV(e);const o=T.XpG(2).$implicit;return T.DH7(o.value,n)||(o.value=n),T.Njj(n)})),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_textarea_4_ng_container_1_Template,1,0,"ng-container",19),T.k0s()}if(2&e){const e=T.XpG(2).$implicit;T.XpG(2);const n=T.sdS(14);T.FCK("name","",e.typ,"_",e.id,""),T.Y8G("required",e.required),T.R50("ngModel",e.value),T.R7$(),T.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",T.eq3(7,_c0,e))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_ng_container_2_Template(e,n){1&e&&T.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_ion_select_option_3_Template(e,n){if(1&e&&(T.j41(0,"ion-select-option",28),T.nrm(1,"core-format-text",20),T.k0s()),2&e){const e=n.$implicit,o=T.XpG(5);T.Y8G("value",e.value),T.R7$(),T.Y8G("component",o.component)("componentId",o.cmId)("text",e.label)("contextInstanceId",o.cmId)("wsNotFiltered",!0)("courseId",o.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-select",26),T.nI1(1,"translate"),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_Template_ion_select_ngModelChange_0_listener(n){T.eBV(e);const o=T.XpG(2).$implicit;return T.DH7(o.value,n)||(o.value=n),T.Njj(n)})),T.DNE(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_ng_container_2_Template,1,0,"ng-container",19)(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_ion_select_option_3_Template,2,7,"ion-select-option",27),T.k0s()}if(2&e){const e=T.XpG(2).$implicit;T.XpG(2);const n=T.sdS(14);T.FCK("name","",e.typ,"_",e.id,""),T.Y8G("required",e.required),T.R50("ngModel",e.value),T.Y8G("cancelText",T.bMT(1,10,"core.cancel"))("interfaceOptions",T.eq3(12,_c1,e.cleanedName)),T.R7$(2),T.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",T.eq3(14,_c0,e)),T.R7$(),T.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_radio_group_6_ion_item_1_Template(e,n){if(1&e&&(T.j41(0,"ion-item",10)(1,"ion-radio",28),T.nrm(2,"core-format-text",20),T.k0s()()),2&e){const e=n.$implicit,o=T.XpG(5);T.R7$(),T.Y8G("value",e.value),T.R7$(),T.Y8G("component",o.component)("componentId",o.cmId)("text",e.label)("contextInstanceId",o.cmId)("wsNotFiltered",!0)("courseId",o.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_radio_group_6_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-radio-group",29),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_radio_group_6_Template_ion_radio_group_ngModelChange_0_listener(n){T.eBV(e);const o=T.XpG(2).$implicit;return T.DH7(o.value,n)||(o.value=n),T.Njj(n)})),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_radio_group_6_ion_item_1_Template,3,7,"ion-item",30),T.k0s()}if(2&e){const e=T.XpG(2).$implicit;T.FCK("name","",e.typ,"_",e.id,""),T.R50("ngModel",e.value),T.Y8G("required",e.required),T.R7$(),T.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_7_ion_item_1_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-item")(1,"ion-checkbox",31),T.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_7_ion_item_1_Template_ion_checkbox_ngModelChange_1_listener(n){const o=T.eBV(e).$implicit;return T.DH7(o.checked,n)||(o.checked=n),T.Njj(n)})),T.nrm(2,"core-format-text",20),T.k0s()()}if(2&e){const e=n.$implicit,o=T.XpG(3).$implicit,t=T.XpG(2);T.R7$(),T.FCK("name","",o.typ,"_",o.id,""),T.Y8G("required",o.required),T.R50("ngModel",e.checked),T.R7$(),T.Y8G("component",t.component)("componentId",t.cmId)("text",e.label)("contextInstanceId",t.cmId)("wsNotFiltered",!0)("courseId",t.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_7_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_7_ion_item_1_Template,3,11,"ion-item",12),T.bVm()),2&e){const e=T.XpG(2).$implicit;T.R7$(),T.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_core_recaptcha_1_Template(e,n){if(1&e&&T.nrm(0,"core-recaptcha",34),2&e){const e=T.XpG(3).$implicit;T.Y8G("publicKey",e.captcha.recaptchapublickey)("model",e)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_div_2_Template(e,n){1&e&&(T.j41(0,"div",35)(1,"ion-item"),T.nrm(2,"ion-icon",36),T.j41(3,"ion-label"),T.EFF(4),T.nI1(5,"translate"),T.k0s()()()),2&e&&(T.R7$(4),T.JRh(T.bMT(5,1,"addon.mod_feedback.captchaofflinewarning")))}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_core_recaptcha_1_Template,1,2,"core-recaptcha",32)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_div_2_Template,6,3,"div",33),T.bVm()),2&e){const e=T.XpG(2).$implicit,n=T.XpG(2);T.R7$(),T.Y8G("ngIf",!n.preview&&!n.offline),T.R7$(),T.Y8G("ngIf",!n.preview&&(!e.captcha||n.offline))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_Template(e,n){if(1&e&&(T.j41(0,"ion-item",14),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_label_1_Template,3,5,"ion-label",6)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_input_2_Template,2,10,"ion-input",15)(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_3_Template,4,10,"ng-container",6)(4,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_textarea_4_Template,2,9,"ion-textarea",16)(5,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_select_5_Template,4,16,"ion-select",17),T.k0s(),T.DNE(6,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ion_radio_group_6_Template,2,6,"ion-radio-group",18)(7,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_7_Template,2,1,"ng-container",6)(8,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_ng_container_8_Template,3,2,"ng-container",6)),2&e){const e=T.XpG().$implicit;T.AVh("feedback_is_dependent",e.dependitem>0)("core-danger-item",e.isEmpty||e.hasError),T.R7$(),T.Y8G("ngIf",!e.slottedLabel),T.R7$(),T.Y8G("ngIf","textfield"===e.templateName),T.R7$(),T.Y8G("ngIf","numeric"===e.templateName),T.R7$(),T.Y8G("ngIf","textarea"===e.templateName),T.R7$(),T.Y8G("ngIf","multichoice-d"===e.templateName),T.R7$(),T.Y8G("ngIf","multichoice-r"===e.templateName),T.R7$(),T.Y8G("ngIf","multichoice-c"===e.templateName),T.R7$(),T.Y8G("ngIf","captcha"===e.templateName)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_1_Template,1,0,"core-spacer")(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Conditional_2_Template,9,12),T.bVm()),2&e){const e=n.$implicit;T.R7$(),T.vxM(1,"pagebreak"===e.typ?1:2)}}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-col")(1,"ion-button",38),T.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template_ion_button_click_1_listener(){T.eBV(e);const n=T.XpG(3);return T.Njj(n.gotoPage(!0))})),T.nrm(2,"ion-icon",39),T.EFF(3),T.nI1(4,"translate"),T.k0s()()}2&e&&(T.R7$(3),T.SpI(" ",T.bMT(4,1,"core.previous")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-col")(1,"ion-button",40),T.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template_ion_button_click_1_listener(){T.eBV(e);const n=T.XpG(3);return T.Njj(n.gotoPage(!1))})),T.EFF(2),T.nI1(3,"translate"),T.nrm(4,"ion-icon",41),T.k0s()()}2&e&&(T.R7$(2),T.SpI(" ",T.bMT(3,1,"core.next")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-col")(1,"ion-button",40),T.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template_ion_button_click_1_listener(){T.eBV(e);const n=T.XpG(3);return T.Njj(n.gotoPage(!1))})),T.EFF(2),T.nI1(3,"translate"),T.k0s()()}2&e&&(T.R7$(2),T.SpI(" ",T.bMT(3,1,"core.submit")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_Template(e,n){if(1&e&&(T.j41(0,"ion-row",37),T.DNE(1,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template,5,3,"ion-col",6)(2,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template,5,3,"ion-col",6)(3,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template,4,3,"ion-col",6),T.k0s()),2&e){const e=T.XpG(2);T.R7$(),T.Y8G("ngIf",e.hasPrevPage),T.R7$(),T.Y8G("ngIf",e.hasNextPage),T.R7$(),T.Y8G("ngIf",!e.hasNextPage)}}function AddonModFeedbackFormPage_ng_container_10_Template(e,n){if(1&e&&(T.qex(0),T.j41(1,"ion-list",9)(2,"ion-item",10)(3,"ion-label")(4,"p",11),T.EFF(5),T.nI1(6,"translate"),T.k0s(),T.DNE(7,AddonModFeedbackFormPage_ng_container_10_p_7_Template,3,3,"p",6)(8,AddonModFeedbackFormPage_ng_container_10_p_8_Template,3,3,"p",6),T.k0s()(),T.DNE(9,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Template,3,1,"ng-container",12)(10,AddonModFeedbackFormPage_ng_container_10_ion_row_10_Template,4,3,"ion-row",13),T.k0s(),T.bVm()),2&e){const e=T.XpG();T.R7$(5),T.JRh(T.bMT(6,5,"addon.mod_feedback.mode")),T.R7$(2),T.Y8G("ngIf",e.access.isanonymous),T.R7$(),T.Y8G("ngIf",!e.access.isanonymous),T.R7$(),T.Y8G("ngForOf",e.items),T.R7$(),T.Y8G("ngIf",!e.preview)}}function AddonModFeedbackFormPage_ion_card_11_p_4_Template(e,n){1&e&&(T.j41(0,"p"),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&e&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"addon.mod_feedback.this_feedback_is_already_submitted")," "))}function AddonModFeedbackFormPage_ion_card_11_p_5_Template(e,n){1&e&&(T.j41(0,"p"),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&e&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"addon.mod_feedback.feedback_submitted_offline")," "))}function AddonModFeedbackFormPage_ion_card_11_core_format_text_6_Template(e,n){if(1&e&&T.nrm(0,"core-format-text",45),2&e){const e=T.XpG(2);T.Y8G("component",e.component)("text",e.completionPageContents)("contextInstanceId",e.cmId)("courseId",e.courseId)}}function AddonModFeedbackFormPage_ion_card_11_Template(e,n){if(1&e&&(T.j41(0,"ion-card",42)(1,"ion-item",10),T.nrm(2,"ion-icon",43),T.j41(3,"ion-label"),T.DNE(4,AddonModFeedbackFormPage_ion_card_11_p_4_Template,3,3,"p",6)(5,AddonModFeedbackFormPage_ion_card_11_p_5_Template,3,3,"p",6)(6,AddonModFeedbackFormPage_ion_card_11_core_format_text_6_Template,1,4,"core-format-text",44),T.k0s()()()),2&e){const e=T.XpG();T.R7$(4),T.Y8G("ngIf",!e.completionPageContents&&!e.completedOffline),T.R7$(),T.Y8G("ngIf",!e.completionPageContents&&e.completedOffline),T.R7$(),T.Y8G("ngIf",e.completionPageContents)}}function AddonModFeedbackFormPage_div_12_ion_button_2_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-button",50),T.bIt("click",(function AddonModFeedbackFormPage_div_12_ion_button_2_Template_ion_button_click_0_listener(){T.eBV(e);const n=T.XpG(2);return T.Njj(n.showAnalysis())})),T.nrm(1,"ion-icon",51),T.EFF(2),T.nI1(3,"translate"),T.k0s()}2&e&&(T.R7$(2),T.SpI(" ",T.bMT(3,1,"addon.mod_feedback.completed_feedbacks")," "))}function AddonModFeedbackFormPage_div_12_ng_container_4_Template(e,n){1&e&&(T.qex(0),T.EFF(1),T.nI1(2,"translate"),T.bVm()),2&e&&(T.R7$(),T.JRh(T.bMT(2,1,"core.continue")))}function AddonModFeedbackFormPage_div_12_ng_container_5_Template(e,n){1&e&&(T.qex(0),T.EFF(1),T.nI1(2,"translate"),T.bVm()),2&e&&(T.R7$(),T.JRh(T.bMT(2,1,"core.course.nextactivity")))}function AddonModFeedbackFormPage_div_12_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"div",46)(1,"div",47),T.DNE(2,AddonModFeedbackFormPage_div_12_ion_button_2_Template,4,3,"ion-button",48),T.j41(3,"ion-button",49),T.bIt("click",(function AddonModFeedbackFormPage_div_12_Template_ion_button_click_3_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.continue())})),T.DNE(4,AddonModFeedbackFormPage_div_12_ng_container_4_Template,3,3,"ng-container",6)(5,AddonModFeedbackFormPage_div_12_ng_container_5_Template,3,3,"ng-container",6),T.k0s()()()}if(2&e){const e=T.XpG();T.R7$(2),T.Y8G("ngIf",e.access.canviewanalysis),T.R7$(2),T.Y8G("ngIf",!e.siteAfterSubmit),T.R7$(),T.Y8G("ngIf",e.siteAfterSubmit)}}function AddonModFeedbackFormPage_ng_template_13_p_0_span_1_Template(e,n){if(1&e&&(T.j41(0,"span"),T.EFF(1),T.k0s()),2&e){const e=T.XpG(2).item;T.R7$(),T.SpI("",e.itemnumber,". ")}}function AddonModFeedbackFormPage_ng_template_13_p_0_span_3_Template(e,n){if(1&e&&(T.j41(0,"span",56),T.EFF(1),T.k0s()),2&e){const e=T.XpG(2).item;T.R7$(),T.JRh(e.postfix)}}function AddonModFeedbackFormPage_ng_template_13_p_0_Template(e,n){if(1&e&&(T.j41(0,"p",53),T.DNE(1,AddonModFeedbackFormPage_ng_template_13_p_0_span_1_Template,2,1,"span",6),T.nrm(2,"core-format-text",54),T.DNE(3,AddonModFeedbackFormPage_ng_template_13_p_0_span_3_Template,2,1,"span",55),T.k0s()),2&e){const e=T.XpG().item,n=T.XpG();T.Y8G("core-mark-required",e.required),T.BMQ("slot",e.slottedLabel?"label":void 0),T.R7$(),T.Y8G("ngIf",n.feedback.autonumbering&&e.itemnumber),T.R7$(),T.Y8G("component",n.component)("componentId",n.cmId)("text",e.name)("contextInstanceId",n.cmId)("courseId",n.courseId)("wsNotFiltered",!0),T.R7$(),T.Y8G("ngIf",e.postfix)}}function AddonModFeedbackFormPage_ng_template_13_Template(e,n){if(1&e&&T.DNE(0,AddonModFeedbackFormPage_ng_template_13_p_0_Template,4,10,"p",52),2&e){T.Y8G("ngIf",n.item.name)}}let O=(()=>{var e;class AddonModFeedbackFormPage{constructor(){this.forceLeave=!1,this.preview=!1,this.fromIndex=!1,this.component=u.yH,this.offline=!1,this.feedbackLoaded=!1,this.items=[],this.hasPrevPage=!1,this.hasNextPage=!1,this.completed=!1,this.completedOffline=!1,this.currentSite=c.CoreSites.getRequiredCurrentSite(),this.onlineObserver=_.WE.onChange().subscribe((()=>{l.SK.run((()=>{this.offline=!_.WE.isOnline()}))}))}ngOnInit(){var e=this;return(0,t.A)((function*(){try{e.cmId=d.CoreNavigator.getRequiredRouteNumberParam("cmId"),e.courseId=d.CoreNavigator.getRequiredRouteNumberParam("courseId"),e.currentPage=d.CoreNavigator.getRouteNumberParam("page"),e.title=d.CoreNavigator.getRouteParam("title"),e.preview=!!d.CoreNavigator.getRouteBooleanParam("preview"),e.fromIndex=!!d.CoreNavigator.getRouteBooleanParam("fromIndex")}catch(e){return P.CoreAlerts.showError(e),d.CoreNavigator.back(),void 0}if(yield e.fetchData(),!e.access||e.access.isempty&&!e.access.canedititems&&!e.access.canviewreports)return P.CoreAlerts.showError(l.HT.instant("core.nopermissiontoaccesspage")),d.CoreNavigator.back(),void 0;if(e.feedback&&e.module)try{yield m.o.logView(e.feedback.id,!0),a.CoreCourse.checkModuleCompletion(e.courseId,e.module.completiondata)}catch{}}))()}ionViewDidEnter(){this.forceLeave=!1}canLeave(){var e=this;return(0,t.A)((function*(){if(e.forceLeave)return!0;if(!e.preview){const n=s._.getPageItemsResponses(e.items);e.items&&!e.completed&&e.originalData&&(h.T.basicLeftCompare(n,e.originalData,3)||(yield P.CoreAlerts.confirmLeaveWithChanges()))}return!0}))()}fetchData(){var e=this;return(0,t.A)((function*(){try{var n,o;e.module=yield a.CoreCourse.getModule(e.cmId,e.courseId,void 0,!0,!1,e.currentSite.getId()),e.offline=!_.WE.isOnline();const i={cmId:e.cmId,readingStrategy:e.offline?1:2,siteId:e.currentSite.getId()};e.feedback=yield m.o.getFeedback(e.courseId,e.cmId),e.title=e.feedback.name||e.title,yield e.fetchAccessData(i);let d=0;var t;if(e.preview||null===(n=e.access)||void 0===n||!n.cansubmit||null!==(o=e.access)&&void 0!==o&&o.isempty)e.preview=!0;else d=null!==(t=e.currentPage)&&void 0!==t?t:yield e.fetchResumePage(i);yield e.fetchFeedbackPageData(d)}catch(n){P.CoreAlerts.showError(n,{default:l.HT.instant("core.course.errorgetmodule")}),e.forceLeave=!0,d.CoreNavigator.back()}finally{e.feedbackLoaded=!0}}))()}fetchAccessData(e){var n=this;return(0,t.A)((function*(){if(n.feedback)try{n.access=yield m.o.getFeedbackAccessInformation(n.feedback.id,e)}catch(o){if(n.offline||I.CoreWSError.isWebServiceError(o))throw o;n.offline=!0,e.readingStrategy=1,n.access=yield m.o.getFeedbackAccessInformation(n.feedback.id,e)}}))()}fetchResumePage(e){var n=this;return(0,t.A)((function*(){if(!n.feedback)throw new k.CoreError("Cannot fetch resume page: missing feedback");try{return yield m.o.getResumePage(n.feedback.id,e)}catch(o){if(n.offline||I.CoreWSError.isWebServiceError(o))throw o;return n.offline=!0,e.readingStrategy=1,m.o.getResumePage(n.feedback.id,e)}}))()}fetchFeedbackPageData(e=0){var n=this;return(0,t.A)((function*(){n.items=[];const o=yield n.fetchPageItems(e);if(n.items=o.items.map((e=>s._.getItemForm(e,n.preview))).filter((e=>e)),!n.preview){const e=r.j.clone(n.items);n.originalData=s._.getPageItemsResponses(e)}n.analyticsLogEvent()}))()}fetchPageItems(e){var n=this;return(0,t.A)((function*(){if(!n.feedback)throw new k.CoreError("Cannot fetch page items: missing feedback");const o={cmId:n.cmId,readingStrategy:n.offline?1:2,siteId:n.currentSite.getId()};if(n.preview){const e=yield m.o.getItems(n.feedback.id,o);return{items:e.items,warnings:e.warnings,hasnextpage:!1,hasprevpage:!1}}let t;n.currentPage=e;try{t=yield m.o.getPageItemsWithValues(n.feedback.id,e,o)}catch(a){if(n.offline||I.CoreWSError.isWebServiceError(a))throw a;n.offline=!0,o.readingStrategy=1,t=yield m.o.getPageItemsWithValues(n.feedback.id,e,o)}return n.hasPrevPage=!!t.hasprevpage,n.hasNextPage=!!t.hasnextpage,t}))()}gotoPage(e){var n=this;return(0,t.A)((function*(){var o;if(!n.feedback||void 0===n.currentPage)return;null===(o=n.content)||void 0===o||o.scrollToTop(),n.feedbackLoaded=!1;const t=s._.getPageItemsResponses(n.items),a=n.items.some((e=>e.isEmpty||e.hasError));try{yield F.g.ignoreErrors(p.V.syncFeedback(n.feedback.id));const o=yield m.o.processPage(n.feedback.id,n.currentPage,t,{goPrevious:e,formHasErrors:a,courseId:n.courseId,cmId:n.cmId});o.completed?(n.items=[],n.completed=!0,n.completedOffline=!!o.offline,n.completionPageContents=o.completionpagecontents,n.siteAfterSubmit=o.siteaftersubmit,g.z.trigger(g.z.ACTIVITY_DATA_SENT,{module:"feedback"}),yield Promise.all([m.o.invalidateFeedbackAccessInformationData(n.feedback.id),m.o.invalidateResumePageData(n.feedback.id)]),g.z.trigger(u.bN,{feedbackId:n.feedback.id,tab:u.sT.OVERVIEW,offline:n.completedOffline}),yield n.fetchAccessData({cmId:n.cmId,readingStrategy:n.offline?1:2,siteId:n.currentSite.getId()})):"number"!=typeof o.jumpto||o.jumpto==n.currentPage||(yield m.o.invalidateResumePageData(n.feedback.id),g.z.trigger(u.bN,{feedbackId:n.feedback.id,tab:u.sT.OVERVIEW,offline:n.completedOffline}),yield n.fetchFeedbackPageData(o.jumpto))}catch(e){P.CoreAlerts.showError(e,{default:l.HT.instant("core.course.errorgetmodule")})}finally{n.feedbackLoaded=!0}}))()}showAnalysis(){if(this.feedback)return this.fromIndex?(g.z.trigger(u.bN,{feedbackId:this.feedback.id,tab:u.sT.ANALYSIS,offline:this.completedOffline}),d.CoreNavigator.back(),void 0):(d.CoreNavigator.navigateToSitePath(`${u.qY}/${this.courseId}/${this.cmId}`,{params:{module:this.module,tab:u.sT.ANALYSIS}}),void 0)}continue(){var e=this;return(0,t.A)((function*(){if(!e.siteAfterSubmit)return d.CoreNavigator.back();const n=yield b.CoreLoadings.show();try{yield C.CoreContentLinksHelper.visitLink(e.siteAfterSubmit,{siteId:e.currentSite.id})}finally{n.dismiss()}}))()}analyticsLogEvent(){if(!this.feedback)return;if(this.preview)return f.OF.logEvent({type:f.qr.VIEW_ITEM,ws:"mod_feedback_get_items",name:this.feedback.name,data:{id:this.feedback.id,category:"feedback"},url:`/mod/feedback/print.php?id=${this.cmId}&courseid=${this.courseId}`}),void 0;let e="/mod/feedback/complete.php";this.completed||(e+=`?id=${this.cmId}`+(this.currentPage?`&gopage=${this.currentPage}`:"")+`&courseid=${this.courseId}`),f.OF.logEvent({type:f.qr.VIEW_ITEM,ws:this.completed?"mod_feedback_get_feedback_access_information":"mod_feedback_get_page_items",name:this.feedback.name,data:{id:this.feedback.id,category:"feedback",page:this.currentPage},url:e})}ngOnDestroy(){this.onlineObserver.unsubscribe()}}return(e=AddonModFeedbackFormPage).ɵfac=function AddonModFeedbackFormPage_Factory(n){return new(n||e)},e.ɵcmp=T.VBU({type:e,selectors:[["page-addon-mod-feedback-form"]],viewQuery:function AddonModFeedbackFormPage_Query(e,n){if(1&e&&T.GBs(i.W9,5),2&e){let e;T.mGM(e=T.lsd())&&(n.content=e.first)}},standalone:!0,features:[T.aNF],decls:15,vars:10,consts:[["label",""],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[1,"limited-width"],[1,"has-spacer",3,"hideUntil"],[4,"ngIf"],["class","core-success-card",4,"ngIf"],["collapsible-footer","","slot","fixed","appearOnBottom","",4,"ngIf"],[1,"ion-no-margin","has-spacer"],[1,"ion-text-wrap"],[1,"item-heading"],[4,"ngFor","ngForOf"],["class","ion-align-items-center spacer-top",4,"ngIf"],[1,"ion-text-wrap","addon-mod_feedback-item"],["labelPlacement","stacked","type","text","autocorrect","off",3,"ngModel","name","maxlength","required","ngModelChange",4,"ngIf"],["labelPlacement","stacked",3,"required","name","ngModel","ngModelChange",4,"ngIf"],["labelPlacement","stacked","interface","action-sheet",3,"required","name","ngModel","cancelText","interfaceOptions","ngModelChange",4,"ngIf"],[3,"ngModel","required","name","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","wsNotFiltered","courseId"],["labelPlacement","stacked","type","text","autocorrect","off",3,"ngModelChange","ngModel","name","maxlength","required"],["labelPlacement","stacked","type","number",3,"ngModelChange","ngModel","name","required"],["color","danger","class","addon-mod_feedback-item-error",4,"ngIf"],["color","danger",1,"addon-mod_feedback-item-error"],["labelPlacement","stacked",3,"ngModelChange","required","name","ngModel"],["labelPlacement","stacked","interface","action-sheet",3,"ngModelChange","required","name","ngModel","cancelText","interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModelChange","ngModel","required","name"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["value","option.value",3,"ngModelChange","required","name","ngModel"],["modelValueName","value",3,"publicKey","model",4,"ngIf"],["class","core-warning-card",4,"ngIf"],["modelValueName","value",3,"publicKey","model"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[1,"ion-align-items-center","spacer-top"],["expand","block","fill","outline",1,"ion-text-wrap",3,"click"],["name","fas-chevron-left","slot","start","aria-hidden","true"],["expand","block",1,"ion-text-wrap",3,"click"],["name","fas-chevron-right","slot","end","aria-hidden","true"],[1,"core-success-card"],["name","fas-check","slot","start","aria-hidden","true"],["componentId","componentId","contextLevel","module",3,"component","text","contextInstanceId","courseId",4,"ngIf"],["componentId","componentId","contextLevel","module",3,"component","text","contextInstanceId","courseId"],["collapsible-footer","","slot","fixed","appearOnBottom",""],[1,"list-item-limited-width","adaptable-buttons-row"],["expand","block","fill","outline","class","ion-text-wrap ion-margin",3,"click",4,"ngIf"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["name","fas-chart-bar","slot","start","aria-hidden","true"],["class","ion-text-wrap",3,"core-mark-required",4,"ngIf"],[1,"ion-text-wrap",3,"core-mark-required"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId","wsNotFiltered"],["class","addon-mod_feedback-postfix",4,"ngIf"],[1,"addon-mod_feedback-postfix"]],template:function AddonModFeedbackFormPage_Template(e,n){1&e&&(T.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),T.nrm(3,"ion-back-button",2),T.nI1(4,"translate"),T.k0s(),T.j41(5,"ion-title")(6,"h1"),T.nrm(7,"core-format-text",3),T.k0s()()()(),T.j41(8,"ion-content",4)(9,"core-loading",5),T.DNE(10,AddonModFeedbackFormPage_ng_container_10_Template,11,7,"ng-container",6)(11,AddonModFeedbackFormPage_ion_card_11_Template,7,3,"ion-card",7)(12,AddonModFeedbackFormPage_div_12_Template,6,3,"div",8),T.k0s()(),T.DNE(13,AddonModFeedbackFormPage_ng_template_13_Template,1,1,"ng-template",null,0,T.C5r)),2&e&&(T.R7$(3),T.Y8G("text",T.bMT(4,8,"core.back")),T.R7$(4),T.Y8G("text",n.title)("contextInstanceId",n.cmId)("courseId",n.courseId),T.R7$(2),T.Y8G("hideUntil",n.feedbackLoaded),T.R7$(),T.Y8G("ngIf",n.items&&n.items.length),T.R7$(),T.Y8G("ngIf",n.completed),T.R7$(),T.Y8G("ngIf",n.feedbackLoaded&&n.completed))},dependencies:[M.n,v.Sq,v.bT,v.T3,A.BC,A.YS,A.tU,A.vS,i.Jm,i.QW,i.b_,i.eY,i.hU,i.W9,i.eU,i.iq,i.$w,i.uz,i.he,i.nf,i.KO,i.f0,i.ln,i.Nm,i.Ip,i.IO,i.nc,i.BC,i.ai,i.hB,i.su,i.Je,i.Gw,i.el,x.R,R.j,G.i,$.f,y.t,N.B,w.i,E.i,Y.T,j.D9],styles:["[_nghost-%COMP%]{--dependant-background: var(--gray-200)}[_nghost-%COMP%]   .feedback_is_dependent[_ngcontent-%COMP%]{--background: var(--dependant-background)}:root.dark[_nghost-%COMP%], :root.dark   [_nghost-%COMP%]{--dependant-background: var(--gray-800)}","[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   ion-label.label-stacked[_ngcontent-%COMP%]{margin:11px 0 10px;transform:none}[_nghost-%COMP%]   .addon-mod_feedback-item-error[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:8px}[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{--color: initial}[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]     .label-text-wrapper{font-size:var(--text-size);transform:none;-webkit-transform:none}"]}),AddonModFeedbackFormPage})()}}]);