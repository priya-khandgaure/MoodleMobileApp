"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[75959,67192],{67192:(e,o,n)=>{n.r(o),n.d(o,{CoreBlockSideBlocksButtonComponent:()=>C});var t=n(10467),r=n(93589),s=n(82907),i=n(86654),a=n(74037),c=n(54438),l=n(2910),d=n(43570),g=n(73955);let u=(()=>{var e;class CoreBlockSideBlocksTourComponent{dismiss(){return(0,t.A)((function*(){yield a.E.dismiss()}))()}}return(e=CoreBlockSideBlocksTourComponent).Éµfac=function CoreBlockSideBlocksTourComponent_Factory(o){return new(o||e)},e.Éµcmp=c.VBU({type:e,selectors:[["core-block-side-blocks-tour"]],standalone:!0,features:[c.aNF],decls:9,vars:9,consts:[["expand","block",3,"click"]],template:function CoreBlockSideBlocksTourComponent_Template(e,o){1&e&&(c.j41(0,"h1"),c.EFF(1),c.nI1(2,"translate"),c.k0s(),c.j41(3,"p"),c.EFF(4),c.nI1(5,"translate"),c.k0s(),c.j41(6,"ion-button",0),c.bIt("click",(function CoreBlockSideBlocksTourComponent_Template_ion_button_click_6_listener(){return o.dismiss()})),c.EFF(7),c.nI1(8,"translate"),c.k0s()),2&e&&(c.R7$(),c.JRh(c.bMT(2,3,"core.block.tour_navigation_dashboard_title")),c.R7$(3),c.JRh(c.bMT(5,5,"core.block.tour_navigation_dashboard_content")),c.R7$(3),c.SpI(" ",c.bMT(8,7,"core.endonesteptour"),"\n"))},dependencies:[i.n,l.Jm,d.T,g.D9],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:var(--mdl-typography-heading2-fontSize)}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}"]}),CoreBlockSideBlocksTourComponent})();var _=n(86198),p=n(8759);let C=(()=>{var e;class CoreBlockSideBlocksButtonComponent{constructor(e){this.userTour={id:"side-blocks-button",component:u,side:"start",alignment:"center",after:"user-menu",afterTimeout:1e3,getFocusedElement:e=>{var o,n;const t=Array.from(null!==(o=null===(n=e.shadowRoot)||void 0===n?void 0:n.children)&&void 0!==o?o:[]).find((e=>"BUTTON"===e.tagName));return null!=t?t:e}},this.element=e.nativeElement}ngOnInit(){var e=this;return(0,t.A)((function*(){e.slotPromise=s.y.slotOnContent(e.element)}))()}openBlocks(){var e=this;return(0,t.A)((function*(){const{CoreBlockSideBlocksComponent:o}=yield Promise.all([n.e(72076),n.e(262)]).then(n.bind(n,262));r.I.openSideModal({component:o,componentProps:{contextLevel:e.contextLevel,instanceId:e.instanceId,myDashboardPage:e.myDashboardPage}})}))()}ngOnDestroy(){var e;null===(e=this.slotPromise)||void 0===e||e.cancel()}}return(e=CoreBlockSideBlocksButtonComponent).Éµfac=function CoreBlockSideBlocksButtonComponent_Factory(o){return new(o||e)(c.rXU(c.aKT))},e.Éµcmp=c.VBU({type:e,selectors:[["core-block-side-blocks-button"]],inputs:{contextLevel:"contextLevel",instanceId:"instanceId",myDashboardPage:"myDashboardPage"},standalone:!0,features:[c.aNF],decls:3,vars:4,consts:[["color","secondary",3,"click","userTour","ariaLabel"],["name","fas-chevron-left","slot","icon-only","aria-hidden","true"]],template:function CoreBlockSideBlocksButtonComponent_Template(e,o){1&e&&(c.j41(0,"ion-button",0),c.nI1(1,"translate"),c.bIt("click",(function CoreBlockSideBlocksButtonComponent_Template_ion_button_click_0_listener(){return o.openBlocks()})),c.nrm(2,"ion-icon",1),c.k0s()),2&e&&c.Y8G("userTour",o.userTour)("ariaLabel",c.bMT(1,2,"core.block.opendrawerblocks"))},dependencies:[i.n,l.Jm,l.iq,_.t,d.T,p.g,g.D9],styles:["[_nghost-%COMP%]{top:50%;position:fixed;z-index:10;transform:translateY(-50%)}@supports (inset-inline-start: 0){[_nghost-%COMP%]{inset-inline-end:0px}}@supports not (inset-inline-start: 0){[_nghost-%COMP%]{right:0}[dir=rtl][_nghost-%COMP%], [dir=rtl]   [_nghost-%COMP%]{left:unset;right:unset;left:0}@supports selector(:dir(rtl)){[_nghost-%COMP%]:dir(rtl){left:unset;right:unset;left:0}}}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;--padding-start: .5em;--padding-end: 0;--core-input-radius: 2em 0 0 2em;height:56px;--box-shadow: 0 3px 5px -1px rgb(0 0 0 / 20%), 0 6px 10px 0 rgb(0 0 0 / 14%), 0 1px 18px 0 rgb(0 0 0 / 12%)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){transition:padding .2s ease-in-out}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--padding-end: 1.2em;--padding-start: 1em}[dir=rtl][_nghost-%COMP%]   ion-button[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--core-input-radius: 0 2em 2em 0}"]}),CoreBlockSideBlocksButtonComponent})()},75959:(e,o,n)=>{n.r(o),n.d(o,{default:()=>E});var t=n(10467),r=n(66110),s=n(49882),i=n(52749),a=n(50572),c=n(44666),l=n(15324),d=n(94247),g=n(63114),u=n(24742),_=n(22693),p=n(79555),C=n(55554),b=n(25572),h=n(67192),m=n(86654),f=n(88793),P=n(70548),k=n(54438),x=n(60177),v=n(89417),M=n(2910),O=n(16986),w=n(64422),y=n(13988),D=n(10892),B=n(86198),I=n(88246),F=n(43570),T=n(73955);function CoreCoursesDashboardPage_ion_button_1_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-button",19),k.nI1(1,"translate"),k.bIt("click",(function CoreCoursesDashboardPage_ion_button_1_Template_ion_button_click_0_listener(){k.eBV(e);const o=k.XpG();return k.Njj(o.openSearch())})),k.nrm(2,"ion-icon",20),k.k0s()}2&e&&k.Y8G("ariaLabel",k.bMT(1,1,"core.courses.searchcourses"))}function CoreCoursesDashboardPage_div_23_img_2_Template(e,o){if(1&e&&k.nrm(0,"img",31),2&e){const e=k.XpG().$implicit;k.Y8G("src",e.imageUrl,k.B4B)}}function CoreCoursesDashboardPage_div_23_div_9_img_1_Template(e,o){if(1&e&&k.nrm(0,"img",35),2&e){const e=o.$implicit;k.Y8G("src",e.profileimageurl,k.B4B)("alt",e.fullname)}}function CoreCoursesDashboardPage_div_23_div_9_span_3_Template(e,o){if(1&e&&(k.j41(0,"span"),k.EFF(1),k.k0s()),2&e){const e=k.XpG(2).$implicit,o=k.XpG();k.R7$(),k.SpI(" +",o.courseParticipants[e.id].length-3," ")}}function CoreCoursesDashboardPage_div_23_div_9_Template(e,o){if(1&e&&(k.j41(0,"div",32),k.DNE(1,CoreCoursesDashboardPage_div_23_div_9_img_1_Template,1,2,"img",33),k.nI1(2,"slice"),k.DNE(3,CoreCoursesDashboardPage_div_23_div_9_span_3_Template,2,1,"span",34),k.k0s()),2&e){const e=k.XpG().$implicit,o=k.XpG();k.R7$(),k.Y8G("ngForOf",k.brH(2,2,o.courseParticipants[e.id],0,3)),k.R7$(2),k.Y8G("ngIf",o.courseParticipants[e.id].length>3)}}function CoreCoursesDashboardPage_div_23_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"div",21),k.bIt("click",(function CoreCoursesDashboardPage_div_23_Template_div_click_0_listener(){const o=k.eBV(e).$implicit,n=k.XpG();return k.Njj(n.openCourse(o))})),k.j41(1,"div",22),k.DNE(2,CoreCoursesDashboardPage_div_23_img_2_Template,1,1,"img",23),k.k0s(),k.j41(3,"div",24)(4,"div",25),k.EFF(5),k.k0s(),k.j41(6,"div",26),k.EFF(7),k.k0s(),k.j41(8,"div",27),k.DNE(9,CoreCoursesDashboardPage_div_23_div_9_Template,4,6,"div",28),k.j41(10,"div",29),k.nrm(11,"ion-icon",30)(12,"ion-icon",30)(13,"ion-icon",30),k.EFF(14," 4.8 "),k.k0s()(),k.j41(15,"a",10),k.bIt("click",(function CoreCoursesDashboardPage_div_23_Template_a_click_15_listener(){const o=k.eBV(e).$implicit,n=k.XpG();return k.Njj(n.openCourse(o))})),k.EFF(16,"Know More"),k.k0s()()()}if(2&e){const e=o.$implicit,n=k.XpG();k.R7$(2),k.Y8G("ngIf",e.imageUrl),k.R7$(3),k.JRh(e.categoryname||"Web & App Development"),k.R7$(2),k.JRh(e.shortname),k.R7$(2),k.Y8G("ngIf",null==n.courseParticipants[e.id]?null:n.courseParticipants[e.id].length)}}function CoreCoursesDashboardPage_ion_list_25_ion_select_option_8_Template(e,o){if(1&e&&(k.j41(0,"ion-select-option",43),k.EFF(1),k.k0s()),2&e){const e=o.$implicit;k.Y8G("value",e.id),k.R7$(),k.SpI(" ",e.fullname," ")}}function CoreCoursesDashboardPage_ion_list_25_ng_container_9_ion_item_2_Template(e,o){if(1&e&&(k.j41(0,"ion-item",46)(1,"ion-avatar",47),k.nrm(2,"ion-icon",48),k.k0s(),k.j41(3,"ion-label")(4,"h3"),k.EFF(5),k.k0s(),k.j41(6,"p"),k.EFF(7),k.k0s()(),k.j41(8,"ion-badge",49),k.EFF(9),k.k0s()()),2&e){const e=o.$implicit,n=o.index,t=k.XpG(3);k.R7$(5),k.JRh(e.username),k.R7$(2),k.SpI("XP: ",e.xp,""),k.R7$(),k.Y8G("color",t.getRankColor(n+1)),k.R7$(),k.SpI(" #",e.rank," ")}}function CoreCoursesDashboardPage_ion_list_25_ng_container_9_Template(e,o){if(1&e&&(k.qex(0),k.j41(1,"ion-list",44),k.DNE(2,CoreCoursesDashboardPage_ion_list_25_ng_container_9_ion_item_2_Template,10,4,"ion-item",45),k.k0s(),k.bVm()),2&e){const e=k.XpG(2);k.R7$(2),k.Y8G("ngForOf",e.leaderboard)}}function CoreCoursesDashboardPage_ion_list_25_ng_template_10_Template(e,o){1&e&&(k.j41(0,"div",50),k.nrm(1,"ion-icon",51),k.j41(2,"p"),k.EFF(3,"No leaderboard data available."),k.k0s()())}function CoreCoursesDashboardPage_ion_list_25_ion_card_content_14_ion_col_3_Template(e,o){if(1&e&&(k.j41(0,"ion-col",53),k.nrm(1,"img",54),k.j41(2,"p",55),k.EFF(3),k.k0s()()),2&e){const e=o.$implicit;k.R7$(),k.Y8G("src",e.fixedImageUrl,k.B4B)("alt",e.name),k.R7$(2),k.JRh(e.name)}}function CoreCoursesDashboardPage_ion_list_25_ion_card_content_14_Template(e,o){if(1&e&&(k.j41(0,"ion-card-content")(1,"ion-grid")(2,"ion-row"),k.DNE(3,CoreCoursesDashboardPage_ion_list_25_ion_card_content_14_ion_col_3_Template,4,3,"ion-col",52),k.k0s()()()),2&e){const e=k.XpG(2);k.R7$(3),k.Y8G("ngForOf",e.badges)}}function CoreCoursesDashboardPage_ion_list_25_ion_card_15_Template(e,o){1&e&&(k.j41(0,"ion-card")(1,"ion-card-content")(2,"div",50),k.nrm(3,"ion-icon",56),k.j41(4,"p"),k.EFF(5,"No badges earned yet."),k.k0s()()()())}function CoreCoursesDashboardPage_ion_list_25_ng_container_16_core_block_1_Template(e,o){if(1&e&&k.nrm(0,"core-block",58),2&e){const e=k.XpG().$implicit,o=k.XpG(2);k.Y8G("block",e)("instanceId",o.userId)}}function CoreCoursesDashboardPage_ion_list_25_ng_container_16_Template(e,o){if(1&e&&(k.qex(0),k.DNE(1,CoreCoursesDashboardPage_ion_list_25_ng_container_16_core_block_1_Template,1,2,"core-block",57),k.bVm()),2&e){const e=o.$implicit;k.R7$(),k.Y8G("ngIf",e.visible)}}function CoreCoursesDashboardPage_ion_list_25_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-list",36)(1,"div",12),k.EFF(2,"XP Leaderboard"),k.k0s(),k.j41(3,"ion-card",37)(4,"ion-item",38)(5,"ion-label"),k.EFF(6,"Course"),k.k0s(),k.j41(7,"ion-select",39),k.mxI("ngModelChange",(function CoreCoursesDashboardPage_ion_list_25_Template_ion_select_ngModelChange_7_listener(o){k.eBV(e);const n=k.XpG();return k.DH7(n.selectedCourseId,o)||(n.selectedCourseId=o),k.Njj(o)})),k.bIt("ionChange",(function CoreCoursesDashboardPage_ion_list_25_Template_ion_select_ionChange_7_listener(){k.eBV(e);const o=k.XpG();return k.Njj(o.loadLeaderboard())})),k.DNE(8,CoreCoursesDashboardPage_ion_list_25_ion_select_option_8_Template,2,2,"ion-select-option",40),k.k0s()(),k.DNE(9,CoreCoursesDashboardPage_ion_list_25_ng_container_9_Template,3,1,"ng-container",41)(10,CoreCoursesDashboardPage_ion_list_25_ng_template_10_Template,4,0,"ng-template",null,0,k.C5r),k.k0s(),k.j41(12,"div",12),k.EFF(13,"My Badges"),k.k0s(),k.DNE(14,CoreCoursesDashboardPage_ion_list_25_ion_card_content_14_Template,4,1,"ion-card-content",34)(15,CoreCoursesDashboardPage_ion_list_25_ion_card_15_Template,6,0,"ion-card",34)(16,CoreCoursesDashboardPage_ion_list_25_ng_container_16_Template,2,1,"ng-container",42),k.k0s()}if(2&e){const e=k.sdS(11),o=k.XpG();k.R7$(7),k.R50("ngModel",o.selectedCourseId),k.R7$(),k.Y8G("ngForOf",o.courses),k.R7$(),k.Y8G("ngIf",null==o.leaderboard?null:o.leaderboard.length)("ngIfElse",e),k.R7$(5),k.Y8G("ngIf",o.hasBadges),k.R7$(),k.Y8G("ngIf",!o.hasBadges),k.R7$(),k.Y8G("ngForOf",o.blocks)}}function CoreCoursesDashboardPage_core_block_side_blocks_button_26_Template(e,o){if(1&e&&k.nrm(0,"core-block-side-blocks-button",59),2&e){const e=k.XpG();k.Y8G("instanceId",e.userId)}}function CoreCoursesDashboardPage_core_empty_box_27_Template(e,o){1&e&&(k.nrm(0,"core-empty-box",60),k.nI1(1,"translate")),2&e&&k.Y8G("message",k.bMT(1,1,"core.course.nocontentavailable"))}let E=(()=>{var e;class CoreCoursesDashboardPage{constructor(){this.hasMainBlocks=!1,this.hasSideBlocks=!1,this.searchEnabled=!1,this.downloadCourseEnabled=!1,this.downloadCoursesEnabled=!1,this.blocks=[],this.loaded=!1,this.leaderboard=[],this.courses=[],this.badges=[],this.hasBadges=!1,this.myPageCourses="courses",this.activeCourses=[],this.courseParticipants={},this.updateSiteObserver=s.z.on(s.z.SITE_UPDATED,(()=>{this.searchEnabled=!r.CoreCourses.isSearchCoursesDisabledInSite(),this.downloadCourseEnabled=!r.CoreCourses.isDownloadCourseDisabledInSite(),this.downloadCoursesEnabled=!r.CoreCourses.isDownloadCoursesDisabledInSite()}),i.CoreSites.getCurrentSiteId()),this.logView=u.j.once((0,t.A)((function*(){yield C.g.ignoreErrors(r.CoreCourses.logView("dashboard")),_.OF.logEvent({type:_.qr.VIEW_ITEM,ws:"core_my_view_page",name:p.HT.instant("core.courses.mymoodle"),data:{category:"course",page:"dashboard"},url:"/my/"})})))}ngOnInit(){this.searchEnabled=!r.CoreCourses.isSearchCoursesDisabledInSite(),this.downloadCourseEnabled=!r.CoreCourses.isDownloadCourseDisabledInSite(),this.downloadCoursesEnabled=!r.CoreCourses.isDownloadCoursesDisabledInSite(),this.loadContent(),this.loadCoursesAndLeaderboard(),this.loadBadges()}openCourse(e){d.CoreCourseHelper.openCourse(e)}loadParticipantsForActiveCourses(){var e=this;return(0,t.A)((function*(){const o=i.CoreSites.getRequiredCurrentSite();yield Promise.all(e.activeCourses.map(function(){var n=(0,t.A)((function*(n){try{const t=yield o.read("core_enrol_get_enrolled_users",{courseid:n.id});e.courseParticipants[n.id]=(t||[]).filter((e=>!!e.profileimageurl)).slice(0,6)}catch{e.courseParticipants[n.id]=[]}}));return function(e){return n.apply(this,arguments)}}()))}))()}scrollSlider(e){const o=document.getElementById("courseSlider");o&&(o.scrollLeft+=e)}showAiComingSoon(){return(0,t.A)((function*(){yield b.CoreAlerts.showError("Coming Soon ðŸš€\nAI Tutor feature is under development. Stay tuned! .....")}))()}loadCoursesAndLeaderboard(){var e=this;return(0,t.A)((function*(){try{var o;e.courses=yield r.CoreCourses.getUserCourses(),(null===(o=e.courses)||void 0===o?void 0:o.length)>0&&(e.selectedCourseId=e.courses[0].id,yield e.loadLeaderboard());const n=yield e.getCourseCategories();console.log("Categories fetched:",n);const s=i.CoreSites.getCurrentSite();if(!s)return console.error("No current site found"),void 0;e.courses.forEach(function(){var o=(0,t.A)((function*(o){const t=n.find((e=>e.id===o.categoryid));if(o.categoryname=t?e.decodeHtmlEntities(t.name):"No Category",o.courseimage){const e=s.fixPluginfileURL(o.courseimage);let n=e;try{const o=yield f.CoreFilepool.downloadUrl(s.getId(),e,!1);var r;if(o)n=(null===(r=window.Ionic)||void 0===r||null===(r=r.WebView)||void 0===r?void 0:r.convertFileSrc(o))||o}catch(e){console.error("Error downloading course image",e)}o.imageUrl=n,console.log(`Final Image URL for Course ${o.id}: ${n}`)}else o.imageUrl=null}));return function(e){return o.apply(this,arguments)}}()),e.activeCourses=e.courses,yield e.loadParticipantsForActiveCourses()}catch(e){console.error("Error loading courses:",e)}}))()}getCourseCategories(){return(0,t.A)((function*(){const e=i.CoreSites.getCurrentSite();if(!e)return console.error("Unable to retrieve the current site."),[];const o=e.getToken();if(!o)return console.error("Unable to retrieve the token."),[];try{const n=`${e.getURL()}/webservice/rest/server.php?wstoken=${o}&wsfunction=core_course_get_categories&moodlewsrestformat=json`;console.log("Fetching Categories from URL:",n);const t=yield fetch(n).then((e=>e.json()));return Array.isArray(t)?t:[]}catch(e){return console.error("Error fetching categories:",e),[]}}))()}loadLeaderboard(){var e=this;return(0,t.A)((function*(){if(!e.selectedCourseId)return e.leaderboard=[],void 0;try{var o;const n=i.CoreSites.getCurrentSite();if(!n)return console.error("Error: Unable to get the current site."),e.leaderboard=[],void 0;const t="5cd479470a848090fc5128660e506fae";if(!t)return console.error("Error: Unable to retrieve the token."),e.leaderboard=[],void 0;const r=`${n.getURL()}/webservice/rest/server.php?wstoken=${t}&wsfunction=block_xp_leaderboard_get_leaderboard&moodlewsrestformat=json&courseid=${e.selectedCourseId}`,s=yield fetch(r).then((e=>e.json()));e.leaderboard=null!=s&&null!==(o=s.leaderboard)&&void 0!==o&&o.length?s.leaderboard.map((e=>{var o,n,t,r;return{rank:e.rank,xp:e.xp,username:null!==(o=null!==(n=null!==(t=null===(r=e.user)||void 0===r?void 0:r.username)&&void 0!==t?t:e.username)&&void 0!==n?n:e.fullname)&&void 0!==o?o:"Unknown"}})):[],console.log("XP leaderboard response:",s)}catch(o){console.error("Error loading leaderboard:",o),e.leaderboard=[]}}))()}getRankColor(e){switch(e){case 1:return"warning";case 2:return"medium";case 3:return"tertiary";default:return"success"}}loadBadges(){var e=this;return(0,t.A)((function*(){try{const o=i.CoreSites.getRequiredCurrentSite(),n=o.getUserId();yield P.AddonBadges.invalidateUserBadges(0,n).catch((()=>{}));const r=yield P.AddonBadges.getUserBadges(0,n);e.badges=yield Promise.all(r.map(function(){var e=(0,t.A)((function*(e){const n=o.fixPluginfileURL(e.badgeurl||e.imageurl||"");let t=n;try{var r;const e=yield f.CoreFilepool.downloadUrl(o.getId(),n,!1);e&&(t=(null===(r=window.Ionic)||void 0===r||null===(r=r.WebView)||void 0===r?void 0:r.convertFileSrc(e))||e)}catch{}return{...e,fixedImageUrl:t}}));return function(o){return e.apply(this,arguments)}}())),e.hasBadges=e.badges.length>0}catch(o){console.error("Error loading badges:",o),e.badges=[],e.hasBadges=!1}}))()}loadContent(){var e=this;return(0,t.A)((function*(){const o=yield a.CoreCoursesDashboard.isAvailable(),n=yield a.CoreCoursesDashboard.isDisabled();if(o&&!n){e.userId=i.CoreSites.getCurrentSiteUserId();try{const o=yield a.CoreCoursesDashboard.getDashboardBlocks();e.blocks=o.mainBlocks,e.hasMainBlocks=g.CoreBlockDelegate.hasSupportedBlock(o.mainBlocks),e.hasSideBlocks=g.CoreBlockDelegate.hasSupportedBlock(o.sideBlocks)}catch(o){b.CoreAlerts.showError(o),e.loadFallbackBlocks()}}else o?e.blocks=[]:e.loadFallbackBlocks();e.loaded=!0,e.logView()}))()}decodeHtmlEntities(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent||""}loadFallbackBlocks(){this.blocks=[{name:"myoverview",visible:!0},{name:"timeline",visible:!0}],this.hasMainBlocks=g.CoreBlockDelegate.isBlockSupported("myoverview")||g.CoreBlockDelegate.isBlockSupported("timeline")}refreshDashboard(e){var o;const n=[];n.push(a.CoreCoursesDashboard.invalidateDashboardBlocks()),n.push(this.loadLeaderboard()),n.push(this.loadBadges()),null===(o=this.blocksComponents)||void 0===o||o.forEach((e=>{n.push(e.invalidate().catch((()=>{})))})),Promise.all(n).finally((()=>{this.loadContent().finally((()=>{null==e||e.complete()}))}))}openSearch(){return(0,t.A)((function*(){l.CoreNavigator.navigateToSitePath("/courses/list",{params:{mode:"search"}})}))()}ngOnDestroy(){this.updateSiteObserver.off()}}return(e=CoreCoursesDashboardPage).Éµfac=function CoreCoursesDashboardPage_Factory(o){return new(o||e)},e.Éµcmp=k.VBU({type:e,selectors:[["page-core-courses-dashboard"]],viewQuery:function CoreCoursesDashboardPage_Query(e,o){if(1&e&&k.GBs(c.CoreBlockComponent,5),2&e){let e;k.mGM(e=k.lsd())&&(o.blocksComponents=e)}},standalone:!0,features:[k.aNF],decls:28,vars:10,consts:[["noLeaderboard",""],["slot","end","prepend",""],[3,"ariaLabel","click",4,"ngIf"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[1,"phone-container"],[1,"header-title"],[1,"ai-card"],[1,"ai-card-content"],[1,"text-container"],[1,"btn",3,"click"],["src","assets/img/learner.png","alt","AI Tutor",1,"ai-card-image"],[1,"section-title"],["id","courseSlider",1,"slider-container"],["class","course-card",3,"click",4,"ngFor","ngForOf"],["placeholderType","column","placeholderHeight","96px",3,"hideUntil"],["class","list-item-limited-width",4,"ngIf"],["slot","fixed","contextLevel","user",3,"instanceId",4,"ngIf"],["icon","fas-cubes",3,"message",4,"ngIf"],[3,"click","ariaLabel"],["name","fas-magnifying-glass","slot","icon-only","aria-hidden","true"],[1,"course-card",3,"click"],[1,"course-image-section"],["alt","Course Image","class","course-image",3,"src",4,"ngIf"],[1,"course-details-section"],[1,"course-category"],[1,"course-title"],[1,"course-info"],["class","course-users",4,"ngIf"],[1,"course-rating"],["name","star",1,"star"],["alt","Course Image",1,"course-image",3,"src"],[1,"course-users"],["core-external-content","",3,"src","alt",4,"ngFor","ngForOf"],[4,"ngIf"],["core-external-content","",3,"src","alt"],[1,"list-item-limited-width"],[1,"xp-leaderboard-card"],[1,"course-select"],[3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"value"],[1,"leaderboard-list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","start"],["name","person-circle-outline"],["slot","end",3,"color"],[1,"no-data"],["name","alert-circle-outline"],["size","4",4,"ngFor","ngForOf"],["size","4"],["core-external-content","",2,"width","70%",3,"src","alt"],[1,"ion-text-wrap"],["name","ribbon-outline"],["contextLevel","user",3,"block","instanceId",4,"ngIf"],["contextLevel","user",3,"block","instanceId"],["slot","fixed","contextLevel","user",3,"instanceId"],["icon","fas-cubes",3,"message"]],template:function CoreCoursesDashboardPage_Template(e,o){1&e&&(k.j41(0,"core-navbar-buttons",1),k.DNE(1,CoreCoursesDashboardPage_ion_button_1_Template,3,3,"ion-button",2),k.k0s(),k.j41(2,"ion-content")(3,"ion-refresher",3),k.bIt("ionRefresh",(function CoreCoursesDashboardPage_Template_ion_refresher_ionRefresh_3_listener(e){return o.refreshDashboard(e.target)})),k.nrm(4,"ion-refresher-content",4),k.nI1(5,"translate"),k.k0s(),k.j41(6,"div",5)(7,"h2",6),k.EFF(8,"Ready to Pick Up Where You Left!"),k.k0s(),k.j41(9,"div",7)(10,"div",8)(11,"div",9)(12,"h3"),k.EFF(13,"Learn with AI Tutor"),k.k0s(),k.j41(14,"p"),k.EFF(15,"Smarter learning begins here."),k.k0s(),k.j41(16,"a",10),k.bIt("click",(function CoreCoursesDashboardPage_Template_a_click_16_listener(){return o.showAiComingSoon()})),k.EFF(17," Learn with AI "),k.k0s()(),k.j41(18,"div"),k.nrm(19,"img",11),k.k0s()()(),k.j41(20,"div",12),k.EFF(21,"Active Courses"),k.k0s(),k.j41(22,"div",13),k.DNE(23,CoreCoursesDashboardPage_div_23_Template,17,4,"div",14),k.k0s(),k.j41(24,"core-loading",15),k.DNE(25,CoreCoursesDashboardPage_ion_list_25_Template,17,7,"ion-list",16)(26,CoreCoursesDashboardPage_core_block_side_blocks_button_26_Template,1,1,"core-block-side-blocks-button",17)(27,CoreCoursesDashboardPage_core_empty_box_27_Template,2,3,"core-empty-box",18),k.k0s()()()),2&e&&(k.R7$(),k.Y8G("ngIf",o.searchEnabled),k.R7$(2),k.Y8G("disabled",!o.loaded),k.R7$(),k.FS9("pullingText",k.bMT(5,8,"core.pulltorefresh")),k.R7$(19),k.Y8G("ngForOf",o.activeCourses),k.R7$(),k.Y8G("hideUntil",o.loaded),k.R7$(),k.Y8G("ngIf",o.hasMainBlocks),k.R7$(),k.Y8G("ngIf",o.hasSideBlocks),k.R7$(),k.Y8G("ngIf",!o.hasMainBlocks))},dependencies:[m.n,x.Sq,x.bT,v.BC,v.vS,M.mC,M.In,M.Jm,M.b_,M.I9,M.hU,M.W9,M.lO,M.iq,M.uz,M.he,M.nf,M.To,M.Ki,M.ln,M.Nm,M.Ip,M.Je,O.h,w.R,y.c,D.l,B.t,I.i,F.T,x.P9,T.D9,c.CoreBlockComponent,h.CoreBlockSideBlocksButtonComponent],styles:['body[_ngcontent-%COMP%]{font-family:Inter,Arial,sans-serif;background:linear-gradient(180deg,#9b51e0,#6c3d7a);margin:0;padding:0}.phone-container[_ngcontent-%COMP%]{max-width:620px;margin:auto;background:#fff;border-radius:20px;padding:20px;box-shadow:0 10px 30px #0000001a}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#5735bd;text-align:left;margin-left:5px;line-height:1.2}.ai-card[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e9e4ff 29%,#f0e7ff 63%,#ffdfd5);padding:20px;border-radius:10px;margin-top:12px;box-shadow:0 8px 25px #0000001a}.ai-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.ai-card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;margin-right:20px}.ai-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:800;color:#333}.ai-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:400;margin:0 0 15px}.ai-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b51e0,#7a3aa0);padding:8px 14px;color:#fff;border-radius:20px;font-size:14px;text-decoration:none;text-align:center;display:inline-block;transition:background-color .3s,transform .2s ease-in-out;font-weight:700;border:none}.ai-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7a3aa0,#9b51e0);transform:scale(1.05)}.section-title[_ngcontent-%COMP%]{margin-top:30px;font-weight:700;margin-left:12px;font-size:18px;color:#5735bd}.slider-container[_ngcontent-%COMP%]{margin-top:3%;overflow-x:auto;white-space:nowrap;scroll-behavior:smooth;padding-bottom:10px;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(127,91,255,.7) rgba(0,0,0,.1)}.slider-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.slider-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#7f5bffb3;border-radius:5px}.slider-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#0000001a}.course-card[_ngcontent-%COMP%]{display:inline-block;width:40%;height:30%;margin-right:16px;margin-left:12px;border-radius:20px;position:relative;box-shadow:0 8px 18px #00000014;transition:transform .35s ease;background-color:#fff}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.course-image-section[_ngcontent-%COMP%]{width:100%;height:120px;overflow:hidden;border-radius:20px 20px 0 0}.course-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.course-details-section[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:0 0 20px 20px}.course-category[_ngcontent-%COMP%]{margin-top:12px;font-size:13px;font-weight:600;color:#2a2a2a}.course-title[_ngcontent-%COMP%]{margin-top:6px;font-size:16px;font-weight:700;color:#1f1f1f;line-height:1.3;word-wrap:break-word;overflow-wrap:break-word;white-space:normal}.course-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.course-rating[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;font-weight:600;color:#333}.course-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:gold;margin-right:4px;font-size:18px}.course-users[_ngcontent-%COMP%]{display:flex;align-items:center}.course-users[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:2px solid white;margin-left:-6px}.course-users[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{margin-left:0}.course-users[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:6px;font-size:12px;font-weight:600;color:#0b3b2e}.course-select[_ngcontent-%COMP%]{--background: transparent;--padding-start: 0;--padding-end: 0;display:flex;flex-direction:column;align-items:stretch;margin:12px 14px 18px}.course-select[_ngcontent-%COMP%]::part(native){display:flex;flex-direction:column;padding:0;box-shadow:none;border:none}.course-select[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#6b6fe5;letter-spacing:.3px;margin-bottom:8px}.course-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{background:#f3f5ff;padding:2px 0 0 8px;font-size:14px;font-weight:600;color:#1f1f1f;width:100%;box-shadow:0 6px 16px #6b6fe51f;transition:box-shadow .25s ease,transform .2s ease}.course-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus, .course-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #6b6fe52e}.course-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:1px;top:50%;transform:translateY(-50%);color:#6b6fe5;font-size:18px;border-radius:50%;background-color:#fff;padding:4px;border:2px solid #6B6FE5}.course-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(text){white-space:normal;line-height:1.25}.course-select[_ngcontent-%COMP%]:after{content:"";height:1px;background:#ececfa;margin-top:16px}.course-details-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#5735bd,#b42fc5);padding:10px 60px;color:#fff;border-radius:20px;font-size:16px;text-decoration:none;text-align:center;display:inline-block;font-weight:700;transition:background-color .3s,transform .2s ease-in-out;border:none;margin-top:12px}.course-details-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#5735bd,#b42fc5);transform:scale(1.05)}.course-arrow[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:34px;color:#144d3e;background:#fff;border-radius:50%;padding:4px;box-shadow:0 3px 8px #00000026}.no-data[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:1.1rem}.no-data[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:10px 0;border-radius:14px;--background: #f9f9ff;padding:6px 10px}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 2px 6px #0000001f}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.2rem;color:var(--ion-color-primary)}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--ion-color-dark)}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:var(--ion-color-medium);margin-top:2px}.leaderboard-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-weight:600;font-size:.85rem}.badges-card[_ngcontent-%COMP%]{width:100%!important;margin:18px auto;border-radius:18px;box-shadow:0 4px 14px #00000014;background:#fff;padding-top:10px}.badges-card[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px;max-height:80px;margin:12px auto;display:block}.badges-card[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:600;margin-top:4px}.section-title[_ngcontent-%COMP%], .xp-leaderboard-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#5735bd}ion-card[_ngcontent-%COMP%]{margin:10!important;padding:0!important}@media (max-width: 767px){.course-card[_ngcontent-%COMP%]{width:60%;height:auto}.course-title[_ngcontent-%COMP%]{font-size:16px;color:#5735bd}.course-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:16px}.course-arrow[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.slider-container[_ngcontent-%COMP%]{display:block}.phone-container[_ngcontent-%COMP%]{max-width:100%;padding:10px}.section-title[_ngcontent-%COMP%]{font-size:18px;color:#5735bd}.course-title[_ngcontent-%COMP%]{font-size:16px}.course-users[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}']}),CoreCoursesDashboardPage})()}}]);