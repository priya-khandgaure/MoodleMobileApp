"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[15025],{15025:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var o=n(10467),i=n(98870),a=n(52749),r=n(47142),s=n(17847),l=n(24502),c=n(86654),g=n(20871),m=n(36684),u=n(54438),d=n(60177),_=n(2910),b=n(16986),f=n(64422),p=n(73955);function CoreMainMenuHomePage_core_empty_box_13_Template(e,t){1&e&&(u.nrm(0,"core-empty-box",8),u.nI1(1,"translate")),2&e&&u.Y8G("message",u.bMT(1,1,"core.courses.nocourses"))}function CoreMainMenuHomePage_core_tabs_outlet_14_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"core-tabs-outlet",9),u.bIt("ionChange",(function CoreMainMenuHomePage_core_tabs_outlet_14_Template_core_tabs_outlet_ionChange_0_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.tabSelected())})),u.k0s()}if(2&e){const e=u.XpG();u.Y8G("hideUntil",e.loaded)("tabs",e.tabs)}}let M=(()=>{var e;class CoreMainMenuHomePage{constructor(){this.fullname="",this.siteName="",this.tabs=[],this.loaded=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){var t,n;e.subscription=s.CoreMainMenuHomeDelegate.getHandlersObservable().subscribe((t=>{t&&e.initHandlers(t)}));const o=a.CoreSites.getRequiredCurrentSite();e.siteInfo=o.getInfo(),e.fullname=(null===(t=e.siteInfo)||void 0===t?void 0:t.fullname)||"User",e.userId=null===(n=e.siteInfo)||void 0===n?void 0:n.userid;try{const t=yield i.CoreUser.getProfile(e.userId);null!=t&&t.fullname&&(e.fullname=t.fullname)}catch(e){console.warn("Could not load user profile:",e)}}))()}initHandlers(e){const t=s.CoreMainMenuHomeDelegate.areHandlersLoaded(),n=l.R.toObject(e,"title"),o=e.map((e=>{var t;const n=this.tabs.find((t=>t.title==e.title));return n||{page:`/main/${m.MAIN_MENU_HOME_PAGE_NAME}/${e.page}`,pageParams:e.pageParams,title:e.title,class:e.class,icon:e.icon,badge:e.badge,enabled:null===(t=e.enabled)||void 0===t||t}}));o.sort(((e,t)=>(n[t.title].priority||0)-(n[e.title].priority||0))),this.tabs=o,setTimeout((()=>{this.loaded=t}),50)}tabSelected(){a.CoreSites.loginNavigationFinished()}ionViewDidEnter(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidLeave()}}return(e=CoreMainMenuHomePage).ɵfac=function CoreMainMenuHomePage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-mainmenu-home"]],viewQuery:function CoreMainMenuHomePage_Query(e,t){if(1&e&&u.GBs(r.k,5),2&e){let e;u.mGM(e=u.lsd())&&(t.tabsComponent=e.first)}},standalone:!0,features:[u.aNF],decls:15,vars:8,consts:[["slot","start"],[3,"text"],[1,"welcome-section"],[1,"item-greeting"],["slot","end"],[3,"hideUntil"],["icon","fas-house",3,"message",4,"ngIf"],[3,"hideUntil","tabs","ionChange",4,"ngIf"],["icon","fas-house",3,"message"],[3,"ionChange","hideUntil","tabs"]],template:function CoreMainMenuHomePage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"div",2)(6,"h2"),u.EFF(7),u.k0s(),u.j41(8,"p",3),u.EFF(9),u.k0s()(),u.j41(10,"ion-buttons",4),u.nrm(11,"core-user-menu-button"),u.k0s()()(),u.j41(12,"core-loading",5),u.DNE(13,CoreMainMenuHomePage_core_empty_box_13_Template,2,3,"core-empty-box",6),u.k0s(),u.DNE(14,CoreMainMenuHomePage_core_tabs_outlet_14_Template,1,2,"core-tabs-outlet",7)),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,6,"core.back")),u.R7$(4),u.JRh((null==t.siteInfo?null:t.siteInfo.sitename)||"Beyondkey LMS"),u.R7$(2),u.SpI("Welcome back, ",t.fullname,"!"),u.R7$(3),u.Y8G("hideUntil",t.loaded),u.R7$(),u.Y8G("ngIf",0===t.tabs.length),u.R7$(),u.Y8G("ngIf",t.tabs.length>0))},dependencies:[c.n,d.bT,_.QW,_.eU,_.ai,_.el,b.h,f.R,r.k,p.D9,g.U],styles:['[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]{position:relative;overflow:visible}[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;position:relative}[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:80px;background:linear-gradient(90deg,#5735bd,#b42fc5);z-index:-1;box-shadow:0 6px 18px #0000001f}[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-60px;right:-40px;width:240px;height:240px;background:#ffb7d9;filter:blur(120px);opacity:.55;z-index:-1}[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left;flex:1;animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px!important;font-size:1.2rem;font-weight:800;color:#fff;padding-left:10px;letter-spacing:.5px}[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .item-greeting[_ngcontent-%COMP%]{font-size:.95rem;font-weight:400;color:#fff;margin:.2rem 0 0;display:inline-block;padding:.3rem .75rem}[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .item-greeting[_ngcontent-%COMP%]:hover{transform:scale(1.05)}[_nghost-%COMP%]   ion-back-button[_ngcontent-%COMP%]{color:#4a148c;font-weight:600}[_nghost-%COMP%]   core-user-menu-button[_ngcontent-%COMP%]{margin-right:.5rem;--color: #4a148c}[_nghost-%COMP%]   core-tabs-outlet[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   core-empty-box[_ngcontent-%COMP%]{margin-top:2rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.05rem}[_nghost-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .item-greeting[_ngcontent-%COMP%]{font-size:.9rem;padding:.25rem .6rem}}.in-toolbar[_nghost-%COMP%]:not(.ion-color):not(.in-toolbar-color)   .button-native[_ngcontent-%COMP%]{color:#fff}']}),CoreMainMenuHomePage})()}}]);